# -*- coding: utf-8 -*-
"""Deployment.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/165iwlABo14-HaTDR0rEtgR6q2I39zOVH
"""

import pickle
import streamlit as st
import numpy as np
from streamlit_option_menu import option_menu


# loading the saved models

crop_model = pickle.load(open(r"C:\Users\ekans\Desktop\My Projects\Crop_Prediction\crop_model.sav",'rb'))


# sidebar for navigation
with st.sidebar:

    selected = option_menu('Crop Recommendation System',

                          ['Most Suitable Crop'],
                          icons=['person-badge'],
                          default_index=0)


# Crop Prediction Page
if (selected == 'Most Suitable Crop'):

    # page title
    st.title('Most Suitable Crop Predictor')


    # getting the input data from the user
    col1, col2, col3 = st.columns(3)

    with col1:
        N = st.text_input('Nitrogen Content')

    with col2:
        P = st.text_input('Phosphorous Content')

    with col3:
        K = st.text_input('Potassium Content')

    with col1:
        temperature = st.text_input('Temperature value in Celsius')

    with col2:
        humidity = st.text_input('Humidity Level')

    with col3:
        ph = st.text_input('ph value')

    with col1:
        rainfall = st.text_input('Rainfall Level')


    # code for Prediction
    crop_recommendation = ''

    # creating a button for Prediction

    if st.button('Crop Prediction Result'):
        data=np.array([[N, P, K, temperature, humidity, ph, rainfall]])
        crop = crop_model.predict(data)
        names=['apple','banana','blackgram','chickpea','coconut','coffee','cotton','grapes','jute','kidneybeans','lentil','maize'
               ,'mango','mothbeans','mungbean','muskmelon','orange','papaya','pigeonpeas','pomegranate','rice','watermelon']
        i = crop[0]
        crop_recommendation=f'Recommended Crop to Grow: {names[i]}'

    st.success(crop_recommendation)